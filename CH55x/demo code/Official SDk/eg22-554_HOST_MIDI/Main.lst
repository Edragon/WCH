C51 COMPILER V9.53.0.0   MAIN                                                              12/20/2017 09:10:26 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN Main.obj
COMPILER INVOKED BY: D:\Keil\Install\C51\BIN\C51.EXE TouchKey\Main.C LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND P
                    -RINT(.\Main.lst) OBJECT(Main.obj)

line level    source

   1          
   2          /********************************** (C) COPYRIGHT *******************************
   3          * File Name          : Main.C
   4          * Author             : WCH
   5          * Version            : V1.0
   6          * Date               : 2017/01/20
   7          * Description        : CH554 ´¥Ãþ°´¼üÖÐ¶ÏºÍ²éÑ¯·½Ê½½øÐÐ²É¼¯²¢±¨¸æµ±Ç°²ÉÑùÍ¨µÀ°´¼ü×´Ì¬£¬°üº¬³õÊ¼»¯ºÍ°´¼ü²ÉÑ
             -ùµÈÑÝÊ¾º¯Êý  
   8          *******************************************************************************/
   9          #include "..\Public\CH554.H"                                                   
  10          #include "..\Public\Debug.H"
  11          #include "TouchKey.H"
  12          #include "stdio.h"
  13          
  14          #pragma  NOAREGS
  15          
  16          main( ) 
  17          {
  18   1          UINT8 i;
  19   1          CfgFsys( );                                                                //CH554Ê±ÖÓÑ¡ÔñÅäÖÃ   
  20   1          mDelaymS(5);                                                               //ÐÞ¸ÄÖ÷Æµ½¨ÒéÉÔ¼ÓÑÓÊ±µÈ´ýÐ
             -¾Æ¬¹©µçÎÈ¶¨        
  21   1          mInitSTDIO( );                                                             //´®¿Ú0³õÊ¼»¯
  22   1          printf("start ...\n"); 
  23   1      
  24   1                P1_DIR_PU &= 0x0C;                                                         //ËùÓÐ´¥ÃþÍ¨µÀÉèÖÃÎª¸¡¿ÕÊäÈë
             -£¬ÓÃ²»µ½µÄÍ¨µÀ¿ÉÒÔ²»ÉèÖÃ
  25   1          TouchKeyQueryCyl2ms();                                                     //TouchKey²éÑ¯ÖÜÆÚ2ms    
  26   1          GetTouckKeyFreeBuf();                                                      //»ñÈ¡²ÉÑù»ù×¼Öµ
  27   1      #if DE_PRINTF
                  for(i=KEY_FIRST;i<(KEY_LAST+1);i++)                                        //´òÓ¡²ÉÑù»ù×¼Öµ
                  {
                    printf("Channel %02x base sample %04x\n",(UINT16)i,KeyFree[i]);
                              }
              #endif
  33   1      
  34   1      #if INTERRUPT_TouchKey
                  EA = 1;
                  while(1)                                                                   
                  {
                    if(KeyBuf)                                                               //key_buf·Ç0£¬±íÊ¾¼ì²âµ½°´¼
             -ü°´ÏÂ
                    {                                         
                      printf("INT TouchKey Channel %02x \n",(UINT16)KeyBuf);                 //´òÓ¡µ±Ç°°´¼ü×´Ì¬Í¨µÀ   
                      KeyBuf  = 0;                                                           //Çå³ý°´¼ü°´ÏÂ±êÖ¾                               
                      mDelaymS(100);                                                         //ÑÓÊ±ÎÞÒâÒå£¬Ä£Äâµ¥Æ¬»ú×ö°
             -´¼ü´¦Àí                        
                    }
                    mDelaymS(100);                                                           //ÑÓÊ±ÎÞÒâÒå£¬Ä£Äâµ¥Æ¬»ú¸ÉÆ
             -äËûÊÂ                                
                  } 
              #else   
  47   1          while(1)                                                                   
  48   1          {                   
C51 COMPILER V9.53.0.0   MAIN                                                              12/20/2017 09:10:26 PAGE 2   

  49   2            TouchKeyChannelQuery();                                                  //²éÑ¯´¥Ãþ°´¼ü×´Ì¬
  50   2            if(KeyBuf)                                                               //key_buf·Ç0£¬±íÊ¾¼ì²âµ½°´¼
             -ü°´ÏÂ
  51   2            {                                         
  52   3              printf("Query TouchKey Channel %02x \n",(UINT16)KeyBuf);               //´òÓ¡µ±Ç°°´¼ü×´Ì¬Í¨µÀ                           
  53   3              KeyBuf  = 0;                                                           //Çå³ý°´¼ü°´ÏÂ±êÖ¾                               
  54   3              mDelaymS(100);                                                         //ÑÓÊ±ÎÞÒâÒå£¬Ä£Äâµ¥Æ¬»ú×ö°
             -´¼ü´¦Àí                        
  55   3            }
  56   2            mDelaymS(100);                                                           //ÑÓÊ±ÎÞÒâÒå£¬Ä£Äâµ¥Æ¬»ú¸ÉÆ
             -äËûÊÂ                                
  57   2          }
  58   1      #endif
  59   1      }
*** WARNING C280 IN LINE 18 OF TouchKey\Main.C: 'i': unreferenced local variable


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     79    ----
   CONSTANT SIZE    =     41    ----
   XDATA SIZE       =   ----       1
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
